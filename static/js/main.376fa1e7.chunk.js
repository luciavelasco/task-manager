(this.webpackJsonpairbox=this.webpackJsonpairbox||[]).push([[0],{23:function(e,t,a){},30:function(e,t,a){e.exports=a(71)},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n,r=a(1),s=a.n(r),l=a(14),i=a.n(l),o=(a(35),a(5)),c=a(6),u=a(3);a(36);!function(e){e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"}(n||(n={}));var m,d=[n.LOW,n.MEDIUM,n.HIGH];!function(e){e.InProgress="In Progress",e.Complete="Complete",e.Assigned="Assigned"}(m||(m={}));var p,g=[m.InProgress,m.Complete,m.Assigned],k=function(e,t){return{abxTaskId:123,organisationTaskId:321,organisationId:3,priority:e,taskStatus:t,assignedto:"AAA11AA",timestamp:new Date,latitude:-150.321,longitude:39.321,tasksummary:"Unspecified first aid emergency",taskdescription:"Leverage agile frameworks to provide a robust synopsis for high level overviews. Iterative approaches to corporate strategy foster collaborative thinking to further the overall value proposition. Organically grow the holistic world view of disruptive innovation via workplace diversity and empowerment."}},v=[k(n.LOW,m.InProgress),k(n.HIGH,m.Assigned),k(n.MEDIUM,m.Assigned),k(n.HIGH,m.InProgress),k(n.LOW,m.Complete),k(n.LOW,m.Complete),k(n.MEDIUM,m.InProgress)],E=(a(23),a(37),function(e){var t=e.children;return s.a.createElement("span",{className:"pill"},t)}),f=(a(38),function(e){var t=e.label,a=e.value;return s.a.createElement("span",null,s.a.createElement("span",{className:"label"},t,": "),s.a.createElement("span",{className:"value"},a))}),b=(a(39),function(e){var t=e.children,a=e.className,n=e.onClick,r=e.halfSize;return s.a.createElement("button",{className:"button ".concat(r?"half-size":""," ").concat(a),onClick:n},t)}),y=(a(40),a(29)),h=a.n(y),O=a(21),T=a(16),I={abxTaskId:"Task ID",organisationTaskId:"Organisation's Task ID",organisationId:"Organisation ID",priority:"Priority",taskStatus:"Status",assignedto:"Assigned Vehicle ID",timestamp:"Incident Date/Time",latitude:"Latitude",longitude:"Longitude",tasksummary:"Task Summary",taskdescription:"Task Description"},j={organisationId:{numericality:!0},priority:{presence:{allowEmpty:!1},exclusion:{within:["none"],message:"Please set the priority of this task."},inclusion:[n.LOW,n.MEDIUM,n.HIGH]},taskStatus:{presence:{allowEmpty:!1},exclusion:{within:["none"],message:"Please set the status of this task."},type:"string"},assignedto:{presence:{allowEmpty:!1},type:"string"},timestamp:{presence:{allowEmpty:!1},datetime:!0},latitude:{presence:{allowEmpty:!1},numericality:{lessThanOrEqualTo:180,greaterThanOrEqualTo:-180}},longitude:{presence:{allowEmpty:!1},numericality:{lessThanOrEqualTo:90,greaterThanOrEqualTo:-90}},tasksummary:{presence:{allowEmpty:!1},type:"string",length:{maximum:255}},taskdescription:{presence:{allowEmpty:!1},type:"string"}},w=function(e){return T.extend(T.validators.datetime,{parse:function(e){return Date.parse(e)},format:function(e){return Date.parse(e)}}),function(e){if("object"!==typeof e)return[];var t=Object.keys(e).map((function(e){return I.hasOwnProperty(e)?I[e]:"Unknown"}));return Object.values(e).reduce((function(e,a,n){return[].concat(Object(O.a)(e),Object(O.a)(a.map((function(e){return"".concat(t[n],": ").concat(e)}))))}),[])}(T.validate(e,j))},C={assignedto:"",timestamp:new Date,latitude:0,longitude:0,tasksummary:"",taskdescription:""},N=function(e){var t,a,n=e.task,l=void 0===n?C:n,i=e.onClose,m=e.onSave,p=e.className,k=Object(r.useState)([]),v=Object(o.a)(k,2),E=v[0],f=v[1],y=Object(r.useState)(l),O=Object(o.a)(y,2),T=O[0],I=O[1],j=function(e,t){return I(Object(u.a)(Object(u.a)({},T),{},Object(c.a)({},e,t)))};return s.a.createElement("div",{className:[T.priority,"task",p].join(" ")},s.a.createElement("div",{className:"summary"},s.a.createElement("span",null,"Summary"),s.a.createElement("textarea",{className:"text-edit",value:T.tasksummary,onChange:function(e){return j("tasksummary",e.target.value)}})),s.a.createElement("div",{className:"task-line"},s.a.createElement("label",null,"Incident time ",s.a.createElement(h.a,{onChange:function(e){return j("timestamp",e)},value:T.timestamp,disableClock:!0,clearIcon:null})),s.a.createElement("label",null,"Status ",s.a.createElement("select",{value:null!==(t=T.taskStatus)&&void 0!==t?t:"none",onChange:function(e){return j("taskStatus",e.target.value)}},s.a.createElement("option",{disabled:!0,value:"none"}," -- select an option --"),g.map((function(e,t){return s.a.createElement("option",{key:t,value:e},e)})))),s.a.createElement("label",null,"Priority ",s.a.createElement("select",{value:null!==(a=T.priority)&&void 0!==a?a:"none",onChange:function(e){return j("priority",e.target.value)}},s.a.createElement("option",{disabled:!0,value:"none"}," -- select an option --"),d.map((function(e,t){return s.a.createElement("option",{key:t,value:e},e)}))))),s.a.createElement("div",{className:"task-line"},s.a.createElement("label",null,"Vehicle ID ",s.a.createElement("input",{type:"text",onChange:function(e){return j("assignedto",e.target.value)},value:T.assignedto})),s.a.createElement("label",null,"Latitude ",s.a.createElement("input",{className:"latlon-input",type:"number",max:180,min:-180,onChange:function(e){return j("latitude",e.target.value)},value:T.latitude})),s.a.createElement("label",null,"Longitude ",s.a.createElement("input",{className:"latlon-input",type:"number",max:90,min:-90,onChange:function(e){return j("longitude",e.target.value)},value:T.longitude}))),s.a.createElement("div",{className:"summary"},"Description ",s.a.createElement("textarea",{className:"text-edit description",value:T.taskdescription,onChange:function(e){return j("taskdescription",e.target.value)}})),!!E.length&&s.a.createElement(s.a.Fragment,null,s.a.createElement("p",{className:"danger-text"},"Please fix these errors before saving:"),E.map((function(e,t){return s.a.createElement("p",{key:t,className:"danger-text"},e)}))),s.a.createElement("div",{className:"task-line"},s.a.createElement(b,{halfSize:!0,className:"cancel-button",onClick:i},"Cancel"),s.a.createElement(b,{halfSize:!0,onClick:function(){var e=w(T);if(e.length)f(e);else{var t=Object(u.a)({abxTaskId:123,organisationTaskId:321,organisationId:3},T);m(t)}}},"abxTaskId"in T?"Update Task":"Create Task")))},D=function(e){return e.timestamp.getDate()===(new Date).getDate()?"Today":e.timestamp.getDate()},S=function(e){var t=e.task,a=e.onEdit,n=Object(r.useState)(!1),l=Object(o.a)(n,2),i=l[0],c=l[1],u=Object(r.useState)(!1),m=Object(o.a)(u,2),d=m[0],p=m[1];return i?s.a.createElement(N,{onClose:function(){return c(!1)},task:t,onSave:function(e){a(e),c(!1)}}):s.a.createElement("div",{className:[t.priority,"task"].join(" ")},s.a.createElement("p",{className:"summary"},t.tasksummary),s.a.createElement("div",{className:"task-line"},s.a.createElement(f,{label:"Time",value:"".concat(t.timestamp.toLocaleTimeString().slice(0,-3)," ").concat(D(t))}),s.a.createElement(f,{label:"Status",value:t.taskStatus}),s.a.createElement(E,null,t.priority.toLowerCase())),s.a.createElement("div",{className:"task-line"},s.a.createElement(f,{label:"Vehicle ID",value:t.assignedto}),s.a.createElement(f,{label:"Lat",value:t.latitude}),s.a.createElement(f,{label:"Lon",value:t.longitude})),s.a.createElement("div",{className:"task-buttons expand-bar"},s.a.createElement(b,{className:"see-more-button",onClick:function(){return p(!d)}},"See more"),s.a.createElement(b,{className:"edit-button",onClick:function(){return c(!0)}},"Edit")),d&&s.a.createElement("div",{className:"expand-contents"},t.taskdescription))};!function(e){e[e.UpdateTask=0]="UpdateTask",e[e.CreateTask=1]="CreateTask",e[e.DeleteTask=2]="DeleteTask",e[e.GetTasksByOrganisation=3]="GetTasksByOrganisation"}(p||(p={}));var x=function(e,t){switch(t.type){case p.UpdateTask:return Object(u.a)(Object(u.a)({},e),{},Object(c.a)({},t.payload.id,t.payload.task));case p.CreateTask:return Object(u.a)(Object(u.a)({},e),{},Object(c.a)({},Object.keys(e).length,t.payload));case p.DeleteTask:var a=Object(u.a)({},e);return delete a[t.payload.id],a;case p.GetTasksByOrganisation:default:return e}};var L=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],l=v.reduce((function(e,t,a){return Object(u.a)(Object(u.a)({},e),{},Object(c.a)({},a,t))}),{}),i=Object(r.useReducer)(x,l),m=Object(o.a)(i,2),d=m[0],g=m[1];return s.a.createElement("div",{className:"app"},s.a.createElement("header",{className:"app-header"},s.a.createElement("h1",null,"Task Manager")),s.a.createElement("main",{className:"app-body"},a?s.a.createElement(N,{onSave:function(e){g({type:p.CreateTask,payload:e}),n(!1)},onClose:function(){return n(!1)}}):s.a.createElement(s.a.Fragment,null,s.a.createElement(b,{className:"create-button",onClick:function(){return n(!0)}},"Create New Task"),Object.keys(d).reverse().map((function(e,t){return s.a.createElement(S,{key:t,task:d[e],onEdit:function(t){return g({type:p.UpdateTask,payload:{id:e,task:t}})}})})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.376fa1e7.chunk.js.map